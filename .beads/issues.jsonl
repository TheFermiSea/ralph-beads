{"id":"ralph-beads-0p0","title":"Write unit tests for beads client","description":"Create unit tests for the beads client wrapper module.","acceptance_criteria":"- [ ] Test file created: `.opencode/plugin/beads-client.test.ts`\n- [ ] Tests for all bd* wrapper functions\n- [ ] Mocked shell execution\n- [ ] Tests JSON parsing\n- [ ] Tests error handling\n- [ ] Can run via bun test","status":"in_progress","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:05:29.503273-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:06:54.913068-06:00","labels":["phase-5","testing"],"dependencies":[{"issue_id":"ralph-beads-0p0","depends_on_id":"ralph-beads-zqa","type":"blocks","created_at":"2026-01-12T11:20:54.36174-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-0v2","title":"Implement system prompt transform hook","description":"Implement the system prompt transform hook to inject beads workflow context into the system prompt.","acceptance_criteria":"- [ ] Hook registered as 'experimental.chat.system.transform'\n- [ ] Injects beads context when workflow active\n- [ ] Context includes: epic ID, molecule ID, current mode, iteration count\n- [ ] Context formatted as XML block (`\u003cralph-context\u003e`)\n- [ ] Only injects when session has active workflow","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:03:36.758391-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:03:33.048848-06:00","closed_at":"2026-01-12T12:03:33.048848-06:00","close_reason":"Implemented system prompt transform hook to inject beads context and updated stop hook to increment iteration count.","labels":["hooks","phase-2"],"dependencies":[{"issue_id":"ralph-beads-0v2","depends_on_id":"ralph-beads-gbg","type":"blocks","created_at":"2026-01-12T11:20:39.562952-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-253","title":"Create E2E test scenario","description":"Create and run end-to-end test scenario with actual OpenCode.","acceptance_criteria":"- [ ] Manual test: Plugin loads in OpenCode\n- [ ] Manual test: ralph-beads tool appears\n- [ ] Manual test: Planning mode creates epic\n- [ ] Manual test: Building mode executes tasks\n- [ ] Manual test: Stop hook continues until done\n- [ ] Document test scenarios in TESTING.md","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:05:35.872563-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T00:11:35.173673-06:00","closed_at":"2026-01-17T00:11:35.173673-06:00","close_reason":"Created TESTING.md with comprehensive test scenarios. Added e2e-opencode.sh for automated plugin structure validation. All tests pass.","labels":["phase-5","testing"],"dependencies":[{"issue_id":"ralph-beads-253","depends_on_id":"ralph-beads-e78","type":"blocks","created_at":"2026-01-12T11:20:54.729838-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-253","depends_on_id":"ralph-beads-4jd","type":"blocks","created_at":"2026-01-12T11:20:54.92848-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-2z4","title":"Create TypeScript type definitions","description":"Create TypeScript type definitions for session state, workflow modes, and beads data structures.","acceptance_criteria":"- [ ] `types.ts` created with TypeScript interfaces\n- [ ] SessionState interface includes: epicId, moleculeId, mode, complexity, currentTask, iterationCount, failureCount, filesModified, commitMade, testsRan\n- [ ] WorkflowMode type: 'planning' | 'building' | 'paused' | 'complete'\n- [ ] Complexity type: 'trivial' | 'simple' | 'standard' | 'critical'\n- [ ] BeadsIssue interface for parsed bd output","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:02:39.847809-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:52:35.291977-06:00","closed_at":"2026-01-12T11:52:35.291977-06:00","close_reason":"Created .opencode/plugin/types.ts with all required interfaces and types.","labels":["foundation","phase-1"],"dependencies":[{"issue_id":"ralph-beads-2z4","depends_on_id":"ralph-beads-69n","type":"blocks","created_at":"2026-01-12T11:20:35.048113-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-3gc","title":"Implement worktree isolation and PR workflow","description":"Implement git worktree isolation for parallel safe execution and PR creation.","acceptance_criteria":"- [ ] Worktree created at ../worktree-$MOL_ID when --worktree\n- [ ] Branch: molecule/$MOL_ID\n- [ ] --pr implies --worktree\n- [ ] PR creation on completion with molecule info\n- [ ] Worktree cleanup after completion\n- [ ] Uses $ shell for git commands","status":"closed","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:05:02.791486-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:06:48.858452-06:00","closed_at":"2026-01-12T12:06:48.858452-06:00","close_reason":"Implemented worktree creation in ralph-beads tool execution and cleanup/PR creation in stop hook. Updated SessionState to track worktree path and branch.","labels":["phase-4","workflow"],"dependencies":[{"issue_id":"ralph-beads-3gc","depends_on_id":"ralph-beads-4jd","type":"blocks","created_at":"2026-01-12T11:20:48.075413-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-3kj","title":"Proto: Add dependency checker script","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-11T14:52:07.799091-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:53:41.809237-06:00","closed_at":"2026-01-11T14:53:41.809237-06:00","close_reason":"E2E dogfood test complete: 3/3 tasks implemented","labels":["mode:building","ralph","ready","template"],"comments":[{"id":4,"issue_id":"ralph-beads-3kj","author":"briansquires","text":"[PROTO COMPLETE] 3 tasks defined. Pour with: /ralph-beads --mode build --epic ralph-beads-3kj","created_at":"2026-01-11T20:52:39Z"},{"id":5,"issue_id":"ralph-beads-3kj","author":"briansquires","text":"[test] Verifying corrected bd comments syntax works","created_at":"2026-01-11T21:00:50Z"}]}
{"id":"ralph-beads-3kj.3","title":"State change: mode → building","description":"Changed mode from ready_for_build to building","status":"closed","priority":4,"issue_type":"event","created_at":"2026-01-11T14:52:46.070438-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:11:58.522326-06:00","closed_at":"2026-01-11T15:11:58.522326-06:00","close_reason":"Event logs from dogfood testing - cleanup","dependencies":[{"issue_id":"ralph-beads-3kj.3","depends_on_id":"ralph-beads-3kj","type":"parent-child","created_at":"2026-01-11T14:52:46.071713-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-4jd","title":"Implement building mode workflow","description":"Implement the building mode workflow logic that executes tasks from molecules.","acceptance_criteria":"- [ ] Building workflow properly sequences operations\n- [ ] Molecule instantiation via bd mol pour\n- [ ] Task selection via bd ready --mol\n- [ ] Task claiming: bd update --status=in_progress\n- [ ] Test backpressure pattern in prompt\n- [ ] Task closing: bd close on success\n- [ ] DONE completion detection works\n- [ ] Epic closed when 100% complete","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:50.526422-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:05:07.423852-06:00","closed_at":"2026-01-12T12:05:07.423852-06:00","close_reason":"Implemented via getBuildingPrompt template which sequences operations and guides the agent.","labels":["phase-4","workflow"],"dependencies":[{"issue_id":"ralph-beads-4jd","depends_on_id":"ralph-beads-v2z","type":"blocks","created_at":"2026-01-12T11:20:47.516438-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-69n","title":"Initialize OpenCode plugin directory structure","description":"Set up the foundational OpenCode plugin structure following the plugin guide pattern. Create the directory structure and base TypeScript file.","acceptance_criteria":"- [ ] `.opencode/` directory created\n- [ ] `package.json` with `@opencode-ai/plugin: latest` dependency\n- [ ] Basic plugin file with correct context destructuring pattern\n- [ ] Plugin loads in OpenCode without errors (verify with manual test)\n- [ ] Console log confirms plugin loaded","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:02:35.186335-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:44:21.502552-06:00","closed_at":"2026-01-12T11:44:21.502552-06:00","close_reason":"Completed via OpenCode validation. Directory structure, package.json, and basic plugin skeleton created and verified.","labels":["foundation","phase-1"]}
{"id":"ralph-beads-6an","title":"Implement check-deps.sh script","description":"## Acceptance Criteria\n- [ ] Script checks for beads plugin\n- [ ] Script checks for ralph-loop plugin\n- [ ] Script outputs clear success/failure messages\n- [ ] Script is executable (chmod +x)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:52:27.642426-06:00","updated_at":"2026-01-11T14:53:14.449968-06:00","closed_at":"2026-01-11T14:53:14.449968-06:00","close_reason":"Closed","dependencies":[{"issue_id":"ralph-beads-6an","depends_on_id":"ralph-beads-3kj","type":"parent-child","created_at":"2026-01-11T14:52:27.696003-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-6an","depends_on_id":"ralph-beads-h76","type":"blocks","created_at":"2026-01-11T14:52:27.827255-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-6yi","title":"Proto: Test Molecule","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-11T14:22:56.91667-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:13:02.165077-06:00","closed_at":"2026-01-11T15:13:02.165077-06:00","close_reason":"Stale test protos - cleanup","labels":["template"],"deleted_at":"2026-01-11T14:25:17.684967-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"ralph-beads-6yi.1","title":"Step 1: First task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-11T14:23:02.654407-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:25:17.684967-06:00","deleted_at":"2026-01-11T14:25:17.684967-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ralph-beads-6yi.2","title":"Step 2: Second task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-11T14:23:03.048102-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:25:17.684967-06:00","deleted_at":"2026-01-11T14:25:17.684967-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ralph-beads-73t","title":"Advanced Beads Integration for Ralph-Beads","description":"## Overview\n\nIntegrate advanced beads features into ralph-beads to enable:\n- Parallel epic execution (swarm)\n- Async coordination (gates)\n- Formalized state management\n- Real-time monitoring\n- Isolated development (worktree)\n- Pre-PR validation\n- Multi-agent safety\n- Issue quality checks\n\n## Success Criteria\n\n- [ ] All 8 advanced features integrated into ralph-beads-cli\n- [ ] TypeScript wrappers created for each feature\n- [ ] Command documentation updated in ralph-beads.md\n- [ ] Integration tests passing\n- [ ] CLAUDE.md updated with new capabilities\n\n## Features to Implement\n\n1. **set-state/state** - Formalize mode transitions (P0)\n2. **activity feed** - Real-time progress monitoring (P0)\n3. **gates** - Async coordination checkpoints (P1)\n4. **worktree** - Better isolation for parallel work (P1)\n5. **swarm** - Parallel epic execution (P2)\n6. **preflight** - Pre-PR validation checks (P2)\n7. **merge-slot** - Multi-agent conflict prevention (P3)\n8. **lint** - Issue quality enforcement (P3)\n\n## Architecture\n\nEach feature will be implemented as:\n1. Rust module in ralph-beads-cli (for performance-critical operations)\n2. TypeScript wrapper in .opencode/plugin/ (for plugin integration)\n3. CLI commands exposed via ralph-beads-cli\n4. Documentation in README.md and CLAUDE.md","notes":"[iter:3] [tasks:4/11] Completed: gates.rs module with 18 tests, CLI integration. Next: worktree (ralph-beads-73t.4)","status":"open","priority":1,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:33.88794-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T21:20:01.143869-06:00","comments":[{"id":18,"issue_id":"ralph-beads-73t","author":"TheFermiSea","text":"## Gemini Validation Summary (2026-01-17)\n\n**Overall Verdict:** Completed work is well-designed, plan is logical with adjustments made.\n\n### Critical Findings Addressed:\n1. ✅ Created ralph-beads-73t.9: File locking for memory.rs (concurrency safety)\n2. ✅ Created ralph-beads-73t.10: Security hardening for command parsing\n3. ✅ Fixed dependency: worktree now depends on set-state (was activity)\n4. ✅ Created ralph-beads-73t.11: Log rotation for memory.rs\n\n### Code Quality Assessment:\n- **health.rs**: Pass with warnings (disk check parsing is brittle)\n- **security.rs**: Pass with caveats (flag injection possible)\n- **memory.rs**: Pass but needs locking before Swarm\n\n### Updated Task Count: 11 tasks across 4 layers","created_at":"2026-01-17T15:28:05Z"}]}
{"id":"ralph-beads-73t.1","title":"Integrate set-state/state for mode management","description":"Formalize mode transitions using bd set-state. Support mode:planning/building/paused/complete and health:healthy/degraded/failing states.","status":"closed","priority":0,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:57.760399-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T13:42:49.131865-06:00","closed_at":"2026-01-17T13:42:49.131865-06:00","close_reason":"Implemented beads_state.rs with Mode/Health enums, set/get functions, CLI commands, 25 tests","dependencies":[{"issue_id":"ralph-beads-73t.1","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:57.761321-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.10","title":"Harden security.rs command parsing","description":"Address flag injection attacks in extract_base_command. Commands like 'git -c core.editor=rm\\ -rf\\ / status' can bypass allowlist. Add explicit blocking of shell variable expansion ($HOME, $USER, etc).","status":"in_progress","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:27:53.927645-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T21:04:11.664239-06:00","dependencies":[{"issue_id":"ralph-beads-73t.10","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:27:53.92837-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.10","depends_on_id":"ralph-beads-73t.1","type":"blocks","created_at":"2026-01-17T09:27:54.174399-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.11","title":"Add log rotation to memory.rs","description":"Memory log will grow indefinitely. Add pruning/rotation capability to prevent performance degradation over time.","status":"open","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:27:54.027097-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T09:27:54.027097-06:00","dependencies":[{"issue_id":"ralph-beads-73t.11","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:27:54.028047-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.11","depends_on_id":"ralph-beads-73t.5","type":"blocks","created_at":"2026-01-17T09:27:54.270612-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.2","title":"Integrate activity feed for real-time monitoring","description":"Add real-time progress monitoring via bd activity --follow. Stream workflow events for visibility into long-running tasks.","status":"closed","priority":0,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:57.855789-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T13:42:49.240056-06:00","closed_at":"2026-01-17T13:42:49.240056-06:00","close_reason":"Implemented activity.rs with ActivityEvent, streaming support, CLI commands, 10 tests","dependencies":[{"issue_id":"ralph-beads-73t.2","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:57.856546-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.3","title":"Integrate gates for async coordination","description":"Implement async coordination with gates. Support human approval, timer-based, and GitHub integration gates.","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:57.946032-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T21:19:32.306371-06:00","closed_at":"2026-01-17T21:19:32.306371-06:00","close_reason":"Implemented gates.rs module with GateType enum (Human, Timer, GitHubRun, GitHubPr, Bead), GateStatus enum, Gate/GateConfig structs, wrapper functions for bd gate commands (create, check, approve, list, wait, evaluate, add_waiter), CLI integration in main.rs with GateAction subcommands, and 18 unit tests. All 117 tests pass.","dependencies":[{"issue_id":"ralph-beads-73t.3","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:57.946779-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.3","depends_on_id":"ralph-beads-73t.1","type":"blocks","created_at":"2026-01-17T09:25:58.465363-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.4","title":"Integrate worktree for isolated development","description":"Integrate bd worktree for isolated development. Enable parallel work with proper beads database sharing.","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:58.041588-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T21:19:30.624305-06:00","closed_at":"2026-01-17T21:19:30.624305-06:00","close_reason":"Implemented worktree integration: create_worktree, list_worktrees, remove_worktree, get_worktree_status, get_current_worktree_info functions with comprehensive tests. All 117 tests pass.","dependencies":[{"issue_id":"ralph-beads-73t.4","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:58.042273-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.4","depends_on_id":"ralph-beads-73t.2","type":"blocks","created_at":"2026-01-17T09:25:58.532472-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.4","depends_on_id":"ralph-beads-73t.1","type":"blocks","created_at":"2026-01-17T09:27:53.719706-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.5","title":"Integrate swarm for parallel epic execution","description":"Enable parallel epic execution with swarm. Coordinate multiple agents working on different tasks simultaneously.","status":"in_progress","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:58.131141-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T21:55:51.286737-06:00","dependencies":[{"issue_id":"ralph-beads-73t.5","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:58.131933-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.5","depends_on_id":"ralph-beads-73t.3","type":"blocks","created_at":"2026-01-17T09:25:58.596699-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.5","depends_on_id":"ralph-beads-73t.4","type":"blocks","created_at":"2026-01-17T09:25:58.663363-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.5","depends_on_id":"ralph-beads-73t.9","type":"blocks","created_at":"2026-01-17T09:27:54.095663-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.6","title":"Integrate preflight for pre-PR validation","description":"Add bd preflight integration for pre-PR validation. Catch common issues before pushing to CI.","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:58.220533-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T21:21:23.067368-06:00","closed_at":"2026-01-17T21:21:23.067368-06:00","close_reason":"Implemented preflight.rs with PreflightReport, CheckStatus, run_preflight, individual check functions, 12 tests","dependencies":[{"issue_id":"ralph-beads-73t.6","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:58.22127-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.6","depends_on_id":"ralph-beads-73t.1","type":"blocks","created_at":"2026-01-17T09:25:58.726756-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.7","title":"Integrate merge-slot for multi-agent safety","description":"Implement merge-slot for multi-agent safety. Serialize conflict resolution when multiple instances run in parallel.","status":"open","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:58.307092-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T09:26:10.492528-06:00","dependencies":[{"issue_id":"ralph-beads-73t.7","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:58.307928-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.7","depends_on_id":"ralph-beads-73t.5","type":"blocks","created_at":"2026-01-17T09:25:58.791005-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.8","title":"Integrate lint for issue quality checks","description":"Add bd lint integration to enforce issue quality. Ensure tasks have acceptance criteria before starting work.","status":"in_progress","priority":3,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:25:58.396883-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T21:55:51.359346-06:00","dependencies":[{"issue_id":"ralph-beads-73t.8","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:25:58.39765-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-73t.8","depends_on_id":"ralph-beads-73t.6","type":"blocks","created_at":"2026-01-17T09:25:58.86099-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-73t.9","title":"Add file locking to memory.rs for concurrency safety","description":"Critical: Add fs2 file locking to memory.rs append() function. Without this, Swarm will cause JSONL corruption when multiple agents write simultaneously. Also optimize load_recent to read from file end instead of loading entire file.","status":"closed","priority":0,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:27:53.827335-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T09:31:44.213606-06:00","closed_at":"2026-01-17T09:31:44.213606-06:00","close_reason":"Added fs2 file locking to append() with exclusive locks, optimized load_recent() with shared locks and efficient seeking for large files","dependencies":[{"issue_id":"ralph-beads-73t.9","depends_on_id":"ralph-beads-73t","type":"parent-child","created_at":"2026-01-17T09:27:53.828154-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-7wy","title":"Test: Circuit breaker validation","status":"tombstone","priority":4,"issue_type":"task","created_at":"2026-01-11T14:28:19.037141-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:29:20.150409-06:00","labels":["blocked"],"deleted_at":"2026-01-11T14:29:20.150409-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ralph-beads-8g6","title":"Final review and polish","description":"Final review and polish before considering the OpenCode plugin complete.","acceptance_criteria":"- [ ] TypeScript compiles without errors\n- [ ] All tests pass\n- [ ] Plugin loads in OpenCode\n- [ ] Basic workflow (plan + build) completes\n- [ ] Code review for any obvious issues","status":"open","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:05:41.4913-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:05:41.4913-06:00","labels":["phase-5","review"],"dependencies":[{"issue_id":"ralph-beads-8g6","depends_on_id":"ralph-beads-0p0","type":"blocks","created_at":"2026-01-12T11:20:55.295303-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-8g6","depends_on_id":"ralph-beads-p5a","type":"blocks","created_at":"2026-01-12T11:20:55.482718-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-8g6","depends_on_id":"ralph-beads-253","type":"blocks","created_at":"2026-01-12T11:20:55.666224-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-8g6","depends_on_id":"ralph-beads-rjc","type":"blocks","created_at":"2026-01-12T11:20:55.85237-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-8p5","title":"Ralph: Fix ralph-beads plugin issues","notes":"[iter:1] [tests:0/0/0] [commits:1] [files:1] Fixed 4 invalid bd CLI flags: --focus, --detect-cycles, --body","status":"closed","priority":2,"issue_type":"bug","owner":"squires.b@gmail.com","created_at":"2026-01-16T20:01:14.435834-06:00","created_by":"TheFermiSea","updated_at":"2026-01-16T20:04:25.405859-06:00","closed_at":"2026-01-16T20:04:25.405859-06:00","close_reason":"Fixed 4 invalid bd CLI flags in ralph-beads.md: removed --focus from bd prime, removed --detect-cycles from bd graph, changed --body to --description for bd update. All changes committed and pushed.","labels":["automated","ralph"]}
{"id":"ralph-beads-94a","title":"Implement compaction hook for state preservation","description":"Implement the compaction hook to preserve workflow state when sessions are compacted.","acceptance_criteria":"- [ ] Hook registered as 'experimental.session.compacting'\n- [ ] Preserves essential state: epic ID, molecule ID, mode, progress %, iteration count\n- [ ] Injects context into output.context array\n- [ ] Format allows resume: \"Resume workflow with /ralph-beads --resume \u003cmol-id\u003e\"\n- [ ] Includes current task ID if in_progress","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:03:40.763986-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:04:43.598511-06:00","closed_at":"2026-01-12T12:04:43.598511-06:00","close_reason":"Implemented compaction hook to preserve essential state and inject resume instructions.","labels":["hooks","phase-2"],"dependencies":[{"issue_id":"ralph-beads-94a","depends_on_id":"ralph-beads-gbg","type":"blocks","created_at":"2026-01-12T11:20:39.852795-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-9y9","title":"Implement ralph-cancel tool","description":"Implement the ralph-cancel tool for graceful loop cancellation.","acceptance_criteria":"- [ ] Tool registered with description\n- [ ] Args: epicId (optional), reason (optional)\n- [ ] Finds active epic if no ID provided\n- [ ] Shows what will be cancelled (epic title, progress)\n- [ ] Requires confirmation (or auto-confirm if reason provided)\n- [ ] Sets epic state to 'paused'\n- [ ] Logs cancellation reason to comments\n- [ ] Clears session state\n- [ ] Returns resume instructions","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:21.412372-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:02:40.008537-06:00","closed_at":"2026-01-12T12:02:40.008537-06:00","close_reason":"Implemented ralph-cancel tool in ralph-beads.ts for graceful loop cancellation and state cleanup.","labels":["phase-3","tools"],"dependencies":[{"issue_id":"ralph-beads-9y9","depends_on_id":"ralph-beads-zqa","type":"blocks","created_at":"2026-01-12T11:20:44.051787-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-amd","title":"Add check-deps.sh to README","description":"## Acceptance Criteria\n- [ ] README.md mentions scripts/check-deps.sh\n- [ ] Usage instructions included","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T14:52:27.878506-06:00","updated_at":"2026-01-11T14:53:35.340356-06:00","closed_at":"2026-01-11T14:53:35.340356-06:00","close_reason":"Closed","dependencies":[{"issue_id":"ralph-beads-amd","depends_on_id":"ralph-beads-3kj","type":"parent-child","created_at":"2026-01-11T14:52:27.925049-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-amd","depends_on_id":"ralph-beads-6an","type":"blocks","created_at":"2026-01-11T14:52:28.024893-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w","title":"Proto: Zeroshot-inspired enhancements (complexity, validation, worktree)","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-11T15:34:38.141271-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:47:08.672523-06:00","closed_at":"2026-01-11T15:47:08.672523-06:00","close_reason":"All Zeroshot-inspired enhancements implemented","labels":["mode:ready_for_build","ralph","template"],"comments":[{"id":6,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[plan:1] Created 9 tasks for Zeroshot enhancements. Features: (1) complexity detection/scaling, (2) blind validation phase, (3) worktree isolation. DAG validated: 5 layers, 10 dependencies.","created_at":"2026-01-11T21:37:12Z"},{"id":7,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[PROTO COMPLETE] 9 tasks defined, DAG validated. Pour with: /ralph-beads --mode build --epic ralph-beads-c5w","created_at":"2026-01-11T21:37:12Z"},{"id":8,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:1] [task:ralph-beads-c5w.2] [status:done] Created validation spec with REQ-040/041/042","created_at":"2026-01-11T21:39:17Z"},{"id":9,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:2] [task:ralph-beads-c5w.3] [status:done] Added 5 new arguments","created_at":"2026-01-11T21:40:06Z"},{"id":10,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:3] [task:ralph-beads-c5w.4] [status:done] Added complexity detection with 4 levels","created_at":"2026-01-11T21:40:57Z"},{"id":11,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:4] [task:ralph-beads-c5w.5] [status:done] Added iteration scaling logic","created_at":"2026-01-11T21:42:11Z"},{"id":12,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:5] [task:ralph-beads-c5w.6] [status:done] Added blind validation with code-reviewer subagent","created_at":"2026-01-11T21:43:09Z"},{"id":13,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:6] [task:ralph-beads-c5w.7] [status:done] Added worktree isolation","created_at":"2026-01-11T21:44:00Z"},{"id":14,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:7] [task:ralph-beads-c5w.8] [status:done] Added PR creation with gh pr create","created_at":"2026-01-11T21:44:49Z"},{"id":15,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:8] [task:ralph-beads-c5w.9] [status:done] Updated CLAUDE.md with new features","created_at":"2026-01-11T21:45:53Z"},{"id":16,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[iter:9] [task:ralph-beads-c5w.10] [status:done] Updated core-workflow.md","created_at":"2026-01-11T21:46:50Z"},{"id":17,"issue_id":"ralph-beads-c5w","author":"briansquires","text":"[COMPLETE] 9/9 tasks done. Features: complexity detection, blind validation, worktree isolation","created_at":"2026-01-11T21:47:08Z"}]}
{"id":"ralph-beads-c5w.1","title":"State change: mode → planning","description":"Set mode to planning","status":"open","priority":4,"issue_type":"event","created_at":"2026-01-11T15:34:38.286333-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:34:38.286333-06:00","dependencies":[{"issue_id":"ralph-beads-c5w.1","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:34:38.286951-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.10","title":"Update specs/core-workflow.md with complexity scaling","description":"## Acceptance Criteria\n- [ ] Add complexity scaling section\n- [ ] Reference specs/validation.md for validation requirements\n- [ ] Keep consistent with new implementation","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:36:33.663972-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:46:50.683109-06:00","closed_at":"2026-01-11T15:46:50.683109-06:00","close_reason":"Added REQ-005 and REQ-006 with complexity and worktree specs","dependencies":[{"issue_id":"ralph-beads-c5w.10","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:36:33.664985-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.10","depends_on_id":"ralph-beads-c5w.6","type":"blocks","created_at":"2026-01-11T15:36:46.425865-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.10","depends_on_id":"ralph-beads-c5w.8","type":"blocks","created_at":"2026-01-11T15:36:46.4742-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.11","title":"State change: mode → ready_for_build","description":"Changed mode from planning to ready_for_build","status":"open","priority":4,"issue_type":"event","created_at":"2026-01-11T15:37:12.782024-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:37:12.782024-06:00","dependencies":[{"issue_id":"ralph-beads-c5w.11","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:37:12.782625-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.2","title":"Create specs/validation.md with REQ-040, REQ-041, REQ-042","description":"## Acceptance Criteria\n- [ ] Create specs/validation.md file\n- [ ] REQ-040: Complexity-based validation trigger documented\n- [ ] REQ-041: Blind review protocol documented  \n- [ ] REQ-042: Rejection handling documented\n- [ ] Priority levels specified for each requirement","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:35:59.554886-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:39:17.2129-06:00","closed_at":"2026-01-11T15:39:17.2129-06:00","close_reason":"Created specs/validation.md with all requirements","dependencies":[{"issue_id":"ralph-beads-c5w.2","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:35:59.558208-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.3","title":"Add --complexity, --validate, --skip-validate, --worktree, --pr arguments","description":"## Acceptance Criteria\n- [ ] Update argument-hint in YAML frontmatter\n- [ ] Document each new argument in Arguments section (lines ~31-40)\n- [ ] Maintain consistency with existing argument patterns","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:35:59.949505-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:40:06.552963-06:00","closed_at":"2026-01-11T15:40:06.552963-06:00","close_reason":"Added all new arguments to argument-hint and Arguments section","dependencies":[{"issue_id":"ralph-beads-c5w.3","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:35:59.950531-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.4","title":"Implement complexity auto-detection from task keywords","description":"## Acceptance Criteria\n- [ ] Add Step 5: Auto-Detect Complexity after test framework detection\n- [ ] Detect TRIVIAL: fix typo, update comment, rename, spelling, whitespace\n- [ ] Detect SIMPLE: add button/toggle/flag, remove unused, update version/dep\n- [ ] Detect CRITICAL: auth, security, payment, migration, credential, token, encrypt, password\n- [ ] Default to STANDARD for unmatched patterns\n- [ ] Allow --complexity flag to override auto-detection\n- [ ] Label epic with complexity:$COMPLEXITY","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:36:00.328868-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:40:57.671951-06:00","closed_at":"2026-01-11T15:40:57.671951-06:00","close_reason":"Added Step 5 with complexity auto-detection and scaling table","dependencies":[{"issue_id":"ralph-beads-c5w.4","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:36:00.3296-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.4","depends_on_id":"ralph-beads-c5w.3","type":"blocks","created_at":"2026-01-11T15:36:46.03248-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.5","title":"Implement complexity-based iteration scaling table","description":"## Acceptance Criteria\n- [ ] TRIVIAL: Plan=2, Build=5 iterations\n- [ ] SIMPLE: Plan=3, Build=10 iterations  \n- [ ] STANDARD: Plan=5, Build=20 iterations (existing default)\n- [ ] CRITICAL: Plan=8, Build=40 iterations\n- [ ] Scale overrides --max-iterations default (explicit flag still wins)\n- [ ] Log detected complexity and adjusted iterations","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:36:18.401325-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:42:11.841334-06:00","closed_at":"2026-01-11T15:42:11.841334-06:00","close_reason":"Added iteration scaling in Step 2 and Step 5","dependencies":[{"issue_id":"ralph-beads-c5w.5","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:36:18.404179-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.5","depends_on_id":"ralph-beads-c5w.4","type":"blocks","created_at":"2026-01-11T15:36:46.081516-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.6","title":"Implement blind validation phase in building mode","description":"## Acceptance Criteria\n- [ ] Add Validation Phase section after Work Protocol\n- [ ] Validation auto-enabled for STANDARD/CRITICAL\n- [ ] --validate forces validation for any complexity\n- [ ] --skip-validate skips for STANDARD (CRITICAL cannot skip)\n- [ ] Spawn code-reviewer subagent via Task tool\n- [ ] Reviewer only sees acceptance criteria + git diff\n- [ ] Reviewer outputs APPROVED or REJECTED\n- [ ] REJECTED: log feedback, don't close task, increment retry count\n- [ ] 2 rejections trigger circuit breaker (mark blocked)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:36:18.770044-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:43:09.795749-06:00","closed_at":"2026-01-11T15:43:09.795749-06:00","close_reason":"Added Validation Phase section with blind review protocol","dependencies":[{"issue_id":"ralph-beads-c5w.6","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:36:18.770819-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.6","depends_on_id":"ralph-beads-c5w.5","type":"blocks","created_at":"2026-01-11T15:36:46.132668-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.6","depends_on_id":"ralph-beads-c5w.2","type":"blocks","created_at":"2026-01-11T15:36:46.180961-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.7","title":"Implement worktree isolation with --worktree flag","description":"## Acceptance Criteria\n- [ ] Add Step 3.5: Worktree Setup (if --worktree)\n- [ ] Create branch: molecule/$MOL_ID\n- [ ] Create worktree: ../worktree-$MOL_ID\n- [ ] Change to worktree directory\n- [ ] Export WORKTREE_PATH for cleanup\n- [ ] Handle existing branch (checkout if exists)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:36:19.124936-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:44:00.172883-06:00","closed_at":"2026-01-11T15:44:00.172883-06:00","close_reason":"Added Step 3.5 with worktree setup","dependencies":[{"issue_id":"ralph-beads-c5w.7","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:36:19.125616-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.7","depends_on_id":"ralph-beads-c5w.3","type":"blocks","created_at":"2026-01-11T15:36:46.230691-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.8","title":"Implement --pr flag with PR creation and worktree cleanup","description":"## Acceptance Criteria\n- [ ] --pr implies --worktree (auto-enable)\n- [ ] Add Cleanup section in Building Mode Prompt\n- [ ] Push branch to origin with -u flag\n- [ ] Create PR via gh pr create with molecule info\n- [ ] Remove worktree after completion\n- [ ] Return to original directory","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:36:32.921535-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:44:49.438551-06:00","closed_at":"2026-01-11T15:44:49.438551-06:00","close_reason":"Added worktree cleanup and PR creation section","dependencies":[{"issue_id":"ralph-beads-c5w.8","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:36:32.924268-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.8","depends_on_id":"ralph-beads-c5w.7","type":"blocks","created_at":"2026-01-11T15:36:46.279688-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-c5w.9","title":"Update CLAUDE.md with new flags documentation","description":"## Acceptance Criteria\n- [ ] Document --complexity flag usage\n- [ ] Document --validate and --skip-validate flags\n- [ ] Document --worktree and --pr flags\n- [ ] Add complexity scaling table\n- [ ] Update beads commands reference if needed","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:36:33.277488-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:45:53.49583-06:00","closed_at":"2026-01-11T15:45:53.49583-06:00","close_reason":"Added Zeroshot-inspired features documentation","dependencies":[{"issue_id":"ralph-beads-c5w.9","depends_on_id":"ralph-beads-c5w","type":"parent-child","created_at":"2026-01-11T15:36:33.278418-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.9","depends_on_id":"ralph-beads-c5w.6","type":"blocks","created_at":"2026-01-11T15:36:46.32848-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-c5w.9","depends_on_id":"ralph-beads-c5w.8","type":"blocks","created_at":"2026-01-11T15:36:46.37644-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-dqg","title":"Create prompt templates module","description":"Create a prompts module containing the planning and building mode prompt templates, ported from the Claude Code markdown version.","acceptance_criteria":"- [ ] `prompts.ts` created with exported functions\n- [ ] getPlanningPrompt(epicId, task): Returns full planning mode prompt\n- [ ] getBuildingPrompt(epicId, molId, task, testCommand): Returns building prompt\n- [ ] Prompts match Claude Code version content\n- [ ] Includes startup ritual, work protocol, completion criteria\n- [ ] Uses template literals for variable substitution","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:06.346186-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:57:48.278752-06:00","closed_at":"2026-01-12T11:57:48.278752-06:00","close_reason":"Created prompts.ts with getPlanningPrompt and getBuildingPrompt template functions containing the full workflow context.","labels":["phase-3","tools"],"dependencies":[{"issue_id":"ralph-beads-dqg","depends_on_id":"ralph-beads-lyd","type":"blocks","created_at":"2026-01-12T11:20:43.314272-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-e78","title":"Implement planning mode workflow","description":"Implement the planning mode workflow logic that creates structured task plans with dependencies.","acceptance_criteria":"- [ ] Planning workflow properly sequences operations\n- [ ] bd prime called at start of each iteration (via prompt)\n- [ ] Gap analysis guidance included in prompt\n- [ ] Task creation with dependencies supported\n- [ ] DAG validation guidance in prompt\n- [ ] PLAN_READY completion detection works\n- [ ] Sets state to ready_for_build on completion","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:46.502169-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:05:00.809383-06:00","closed_at":"2026-01-12T12:05:00.809383-06:00","close_reason":"Implemented via getPlanningPrompt template which sequences operations and guides the agent.","labels":["phase-4","workflow"],"dependencies":[{"issue_id":"ralph-beads-e78","depends_on_id":"ralph-beads-v2z","type":"blocks","created_at":"2026-01-12T11:20:47.331806-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-fad","title":"bd sync deletes non-beads files via worktree","description":"## Bug Description\n\nWhen bd sync runs, it uses a worktree at .git/beads-worktrees/main. If this worktree has an older state (missing newly committed files), the sync commit will DELETE those files from main.\n\n## Reproduction Steps\n\n1. Make a commit that adds new files (e.g., ralph-beads-cli/)\n2. Push to origin\n3. Run bd sync\n4. Observe that the sync commit deletes the new files\n\n## Root Cause\n\nThe worktree is not updated to match main before the sync commit is created. The sync process commits from the worktree state, which may be stale.\n\n## Impact\n\nCRITICAL: Can cause data loss by deleting legitimate committed files.\n\n## Workaround\n\nRemove the worktree before syncing:\n```bash\ngit worktree remove .git/beads-worktrees/main --force\n```\n\n## Expected Behavior\n\nbd sync should only modify .beads/issues.jsonl and never touch other files.","status":"open","priority":0,"issue_type":"bug","owner":"squires.b@gmail.com","created_at":"2026-01-17T09:35:03.237787-06:00","created_by":"TheFermiSea","updated_at":"2026-01-17T09:35:03.237787-06:00"}
{"id":"ralph-beads-fzs","title":"Implement ralph-status tool","description":"Implement the ralph-status tool to query and display epic progress.","acceptance_criteria":"- [ ] Tool registered with description\n- [ ] Args: epicId (optional), verbose (boolean)\n- [ ] Finds most recent ralph epic if no ID provided\n- [ ] Displays: epic title, status, mode\n- [ ] Shows task progress: N/M complete (X%)\n- [ ] Shows current in_progress task if any\n- [ ] Shows blocked task count\n- [ ] With verbose: shows recent iteration comments\n- [ ] Shows dependency graph summary","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:17.599506-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:00:42.12795-06:00","closed_at":"2026-01-12T12:00:42.12795-06:00","close_reason":"Implemented ralph-status tool in ralph-beads.ts to query epic progress, task status, and recent iterations.","labels":["phase-3","tools"],"dependencies":[{"issue_id":"ralph-beads-fzs","depends_on_id":"ralph-beads-zqa","type":"blocks","created_at":"2026-01-12T11:20:43.861085-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-gbg","title":"Implement session state management","description":"Implement session-keyed state management using Maps as shown in the plugin guide.","acceptance_criteria":"- [ ] Session Map created: Map\u003cstring, SessionState\u003e\n- [ ] getState(sessionId) returns or initializes state\n- [ ] State cleanup on session.deleted event\n- [ ] State properly typed with SessionState interface","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:02:48.712638-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:54:53.476367-06:00","closed_at":"2026-01-12T11:54:53.476367-06:00","close_reason":"Implemented session state management in ralph-beads.ts with keyed Map and helper functions. Added basic event hook for lifecycle management.","labels":["foundation","phase-1"],"dependencies":[{"issue_id":"ralph-beads-gbg","depends_on_id":"ralph-beads-2z4","type":"blocks","created_at":"2026-01-12T11:20:35.41414-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-h1q","title":"Ralph-Beads v0.2.0: Hardening \u0026 Documentation","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-11T15:12:07.906235-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:23:11.249529-06:00","closed_at":"2026-01-11T15:23:11.249529-06:00","close_reason":"v0.2.0 complete: Hardening (error handling, validation, circuit breaker) and Documentation (examples, quickstart, architecture sync)"}
{"id":"ralph-beads-h1q.1","title":"Add bd command failure handling in ralph-beads.md","description":"Check exit codes on bd info, bd daemon status, bd show, bd mol show. Add fallback paths when commands fail.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:12:20.820816-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:15:00.245298-06:00","closed_at":"2026-01-11T15:15:00.245298-06:00","close_reason":"Added error handling for bd info, mol show, epic show, create, and mol pour commands with validation","dependencies":[{"issue_id":"ralph-beads-h1q.1","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:20.823896-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.10","title":"Formalize circuit breaker with failure tracking","description":"Track failure count per task via bd comments. Make circuit breaker algorithmic: block after 2 failures.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:33.321282-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:19:14.873767-06:00","closed_at":"2026-01-11T15:19:14.873767-06:00","close_reason":"Added structured [ATTEMPT:N] comment format for failure tracking, algorithmic detection via comment history, and unblocking guidance","dependencies":[{"issue_id":"ralph-beads-h1q.10","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:33.322001-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.11","title":"Fix progress display for empty task lists","description":"Distinguish between planning phase (no tasks yet) vs 0% complete. Show appropriate message for each.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:33.649744-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:19:28.526831-06:00","closed_at":"2026-01-11T15:19:28.526831-06:00","close_reason":"Fixed during P1 work: ralph-status.md now shows 'No tasks created yet (still in planning?)' when task count is zero","dependencies":[{"issue_id":"ralph-beads-h1q.11","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:33.650394-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.12","title":"Clarify ephemeral tasks vs wisps documentation","description":"Clear definition and decision tree for when to use ephemeral vs wisp. Document visibility in bd ready.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-11T15:12:44.79093-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:22:33.492671-06:00","closed_at":"2026-01-11T15:22:33.492671-06:00","close_reason":"Added comprehensive comparison table and decision tree for ephemeral tasks vs wisps in ralph-beads.md","dependencies":[{"issue_id":"ralph-beads-h1q.12","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:44.798635-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.13","title":"Add confirmation prompts for destructive operations","description":"Add dry-run confirmation before cancelling. Show what will happen before executing.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-11T15:12:45.75055-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:19:53.495985-06:00","closed_at":"2026-01-11T15:19:53.495985-06:00","close_reason":"Already implemented during h1q.5: ralph-cancel.md now uses AskUserQuestion for confirmation before cancelling","dependencies":[{"issue_id":"ralph-beads-h1q.13","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:45.753461-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.14","title":"Document loop invocation with concrete examples","description":"Show actual Skill invocation syntax. Document completion-promise format with examples.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-11T15:12:48.262708-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:22:57.615187-06:00","closed_at":"2026-01-11T15:22:57.615187-06:00","close_reason":"Added concrete Skill tool invocation examples for both planning and building modes with completion promise format","dependencies":[{"issue_id":"ralph-beads-h1q.14","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:48.264995-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.15","title":"Expand docs/examples.md with real-world scenarios","description":"Add complete walkthrough examples. Include error recovery scenarios and troubleshooting.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:48.588895-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:20:55.262969-06:00","closed_at":"2026-01-11T15:20:55.262969-06:00","close_reason":"Created comprehensive docs/examples.md with 5 real-world scenarios: new feature, bug fix, large refactoring, failure handling, and cancellation/recovery","dependencies":[{"issue_id":"ralph-beads-h1q.15","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:48.589707-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.16","title":"Improve README.md with quickstart guide","description":"Add 5-minute quickstart. Include common workflows and gotchas section.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:48.970919-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:21:27.970105-06:00","closed_at":"2026-01-11T15:21:27.970105-06:00","close_reason":"Added 5-Minute Quickstart section and Common Gotchas troubleshooting section to README.md","dependencies":[{"issue_id":"ralph-beads-h1q.16","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:48.971627-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.17","title":"Update architecture.md to match implementations","description":"Sync state machine documentation with actual code. Document molecule JSON schema.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:49.300045-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:22:06.4045-06:00","closed_at":"2026-01-11T15:22:06.4045-06:00","close_reason":"Updated circuit breaker documentation to match implementation: structured comment format, --status=blocked vs labels","dependencies":[{"issue_id":"ralph-beads-h1q.17","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:49.300791-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-h1q.17","depends_on_id":"ralph-beads-h1q.7","type":"blocks","created_at":"2026-01-11T15:12:56.077728-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.2","title":"Handle empty task list in building mode","description":"When bd ready returns empty but progress \u003c 100%, diagnose if blocked/misconfigured. Add troubleshooting steps.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:12:21.137086-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:15:23.546619-06:00","closed_at":"2026-01-11T15:15:23.546619-06:00","close_reason":"Added comprehensive empty task list handling with progress check, blocker diagnostics, and troubleshooting section","dependencies":[{"issue_id":"ralph-beads-h1q.2","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:21.137904-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.3","title":"Fix JQ filter errors in ralph-status.md","description":"Add validation after finding epic, use jq -e flag, add length checks before array indexing, wrap commands with error handling.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T15:12:21.454603-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:15:58.539232-06:00","closed_at":"2026-01-11T15:15:58.539232-06:00","close_reason":"Fixed JQ filter errors: added null checks, safe array access, command fallbacks, and proper error handling","dependencies":[{"issue_id":"ralph-beads-h1q.3","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:21.455337-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.4","title":"Fix incomplete molecule resume logic","description":"Validate epic state before bd mol pour. Add check for proto_id/epic_id fields. Guard against double-pouring.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:12:21.766057-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:16:23.785613-06:00","closed_at":"2026-01-11T15:16:23.785613-06:00","close_reason":"Fixed during P1 work: added proto_id/epic_id validation with empty fallback, molecule existence check before operations","dependencies":[{"issue_id":"ralph-beads-h1q.4","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:21.76692-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-h1q.4","depends_on_id":"ralph-beads-h1q.1","type":"blocks","created_at":"2026-01-11T15:12:55.683062-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.5","title":"Fix ralph-cancel.md epic identification","description":"Add check if local file exists. Add fallback to find most recent epic. Add confirmation prompt before cancelling.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:12:22.074028-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:17:14.045735-06:00","closed_at":"2026-01-11T15:17:14.045735-06:00","close_reason":"Added 3-tier epic identification fallback, confirmation prompt before cancel, proper error handling","dependencies":[{"issue_id":"ralph-beads-h1q.5","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:22.07467-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-h1q.5","depends_on_id":"ralph-beads-h1q.1","type":"blocks","created_at":"2026-01-11T15:12:55.733284-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.6","title":"Fix task ID extraction fragility","description":"Replace bd q with explicit bd create. Add validation that task ID is non-empty and matches expected pattern.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T15:12:22.387545-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:16:24.244712-06:00","closed_at":"2026-01-11T15:16:24.244712-06:00","close_reason":"Fixed during P1 work: replaced bd q with bd create --json | jq, added empty check validation","dependencies":[{"issue_id":"ralph-beads-h1q.6","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:22.3884-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-h1q.6","depends_on_id":"ralph-beads-h1q.1","type":"blocks","created_at":"2026-01-11T15:12:55.783307-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.7","title":"Clarify state transitions - remove duplicate ready label","description":"Use only state machine approach (mode=ready_for_build). Remove label ready in favor of state field.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:32.395637-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:17:50.650246-06:00","closed_at":"2026-01-11T15:17:50.650246-06:00","close_reason":"Removed duplicate ready label; using only state machine (mode=ready_for_build) for workflow status","dependencies":[{"issue_id":"ralph-beads-h1q.7","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:32.39877-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.8","title":"Add dependency graph validation after planning","description":"Add DAG validation command after all deps added. Document troubleshooting for accidental cycles.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:32.72333-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:18:10.311158-06:00","closed_at":"2026-01-11T15:18:10.311158-06:00","close_reason":"Added explicit DAG validation step before planning completion with bd graph command and cycle fix guidance","dependencies":[{"issue_id":"ralph-beads-h1q.8","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:32.724047-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h1q.9","title":"Improve test framework detection","description":"Validate detected framework works. Add version detection. Provide explicit test command in setup output.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T15:12:33.025705-06:00","created_by":"briansquires","updated_at":"2026-01-11T15:18:42.281722-06:00","closed_at":"2026-01-11T15:18:42.281722-06:00","close_reason":"Enhanced test framework detection with nextest/pytest preference, specific test commands, and validation output","dependencies":[{"issue_id":"ralph-beads-h1q.9","depends_on_id":"ralph-beads-h1q","type":"parent-child","created_at":"2026-01-11T15:12:33.026513-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-h76","title":"Create scripts directory","description":"## Acceptance Criteria\n- [ ] scripts/ directory exists\n- [ ] Directory is tracked in git","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:52:27.501159-06:00","updated_at":"2026-01-11T14:52:56.487597-06:00","closed_at":"2026-01-11T14:52:56.487597-06:00","close_reason":"Closed","dependencies":[{"issue_id":"ralph-beads-h76","depends_on_id":"ralph-beads-3kj","type":"parent-child","created_at":"2026-01-11T14:52:27.54929-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-hgr","title":"Test child","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:48:15.929812-06:00","updated_at":"2026-01-11T14:48:18.962837-06:00","closed_at":"2026-01-11T14:48:18.962837-06:00","close_reason":"test"}
{"id":"ralph-beads-k9n","title":"OpenCode Plugin Implementation for ralph-beads","description":"Implement an OpenCode-native version of the ralph-beads plugin that provides the same functionality as the existing Claude Code plugin. The OpenCode version will use TypeScript, hooks (stop, event, system transform, compacting), and custom tools to deliver AI-supervised iterative development workflows with beads as the execution control plane.","design":"## Architecture\n\nThe OpenCode plugin will be standalone in `.opencode/plugin/` with:\n- Main plugin file with hooks and tools\n- Beads client wrapper using Bun's $ shell API  \n- Session state management via keyed Maps\n- Mode-specific prompts (planning/building)\n\n## Key Components\n\n1. **Plugin Entry** (`ralph-beads.ts`): Exports `RalphBeads: Plugin` with all hooks\n2. **Beads Client** (`beads-client.ts`): Shell wrapper for bd CLI with JSON parsing\n3. **State Types** (`types.ts`): TypeScript interfaces for session state\n4. **Prompts** (`prompts.ts`): Planning and building mode prompt templates\n\n## Hooks Used\n\n- `event`: Track sessions, file edits, commits\n- `stop`: Iteration control, completion detection\n- `experimental.chat.system.transform`: Inject beads context\n- `experimental.session.compacting`: Preserve state across compaction\n\n## Custom Tools\n\n- `ralph-beads`: Main workflow tool (planning/building modes)\n- `ralph-status`: Query epic progress\n- `ralph-cancel`: Graceful loop cancellation","acceptance_criteria":"- [ ] OpenCode plugin loads without errors\n- [ ] Planning mode creates structured epic with tasks and dependencies\n- [ ] Building mode executes tasks with circuit breaker pattern\n- [ ] Stop hook enforces completion criteria before allowing stop\n- [ ] Session state persists across hook invocations\n- [ ] Beads CLI wrapper handles all required bd commands\n- [ ] Works after context compaction (state preserved in beads)\n- [ ] Tests pass for core functionality\n- [ ] Documentation updated with OpenCode installation instructions","status":"in_progress","priority":1,"issue_type":"epic","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:02:24.694402-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:21:29.065254-06:00","labels":["beads","opencode","plugin","ralph"]}
{"id":"ralph-beads-lyd","title":"Implement stop hook for iteration control","description":"Implement the stop hook to control iteration flow, replacing the external ralph-loop skill. This is the core loop control mechanism.","acceptance_criteria":"- [ ] Stop hook registered in plugin\n- [ ] Checks session state for active workflow\n- [ ] If mode=planning and no PLAN_READY promise: prompt to continue\n- [ ] If mode=building and no DONE promise: check bd ready, prompt if work remains\n- [ ] Enforces max iterations (prompts even if work remains after limit)\n- [ ] Detects `\u003cpromise\u003eDONE\u003c/promise\u003e` and `\u003cpromise\u003ePLAN_READY\u003c/promise\u003e` in messages\n- [ ] Uses client.session.prompt() to inject continuation message","status":"closed","priority":0,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:03:34.3324-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:56:28.779243-06:00","closed_at":"2026-01-12T11:56:28.779243-06:00","close_reason":"Implemented stop hook for iteration control, enforcing completion promises (DONE/PLAN_READY) and checking beads ready status before allowing stop. Updated SessionState to track promiseMade.","labels":["critical","hooks","phase-2"],"dependencies":[{"issue_id":"ralph-beads-lyd","depends_on_id":"ralph-beads-gbg","type":"blocks","created_at":"2026-01-12T11:20:39.393095-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-lyd","depends_on_id":"ralph-beads-zqa","type":"blocks","created_at":"2026-01-12T11:20:40.104014-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-mol-dik","title":"Step 2: Second task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-11T14:23:17.468787-06:00","updated_at":"2026-01-11T14:25:17.285439-06:00","deleted_at":"2026-01-11T14:25:17.285439-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ralph-beads-mol-jbv","title":"Step 1: First task","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-11T14:23:17.468257-06:00","updated_at":"2026-01-11T14:25:17.285439-06:00","deleted_at":"2026-01-11T14:25:17.285439-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"ralph-beads-mol-vac","title":"Proto: Test Molecule","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-11T14:23:17.465804-06:00","updated_at":"2026-01-11T15:13:02.16748-06:00","closed_at":"2026-01-11T15:13:02.16748-06:00","close_reason":"Stale test protos - cleanup","deleted_at":"2026-01-11T14:25:17.285439-06:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"ralph-beads-p5a","title":"Write integration tests for hooks","description":"Create integration tests for the plugin hooks.","acceptance_criteria":"- [ ] Test file: `.opencode/plugin/hooks.test.ts`\n- [ ] Tests event hook with mock events\n- [ ] Tests stop hook logic\n- [ ] Tests state management\n- [ ] Tests completion promise detection","status":"open","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:05:32.155045-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:05:32.155045-06:00","labels":["phase-5","testing"],"dependencies":[{"issue_id":"ralph-beads-p5a","depends_on_id":"ralph-beads-lyd","type":"blocks","created_at":"2026-01-12T11:20:54.545888-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-r49","title":"Ralph-Beads v0.1.0 Implementation","description":"## Goal\nImplement the ralph-beads Claude Code plugin based on specifications in specs/.\n\n## Specs to Implement\n- specs/loop-architecture.md - Core architecture (bd prime, circuit breaker, molecules)\n- specs/core-workflow.md - Planning/building modes\n- specs/beads-integration.md - Task selection, logging, state\n- specs/commands.md - Slash commands\n\n## Development Approach\nUse spec-driven development:\n1. Read specs for acceptance criteria\n2. Create child tasks from criteria\n3. Implement and validate\n4. Close when all criteria met\n\n## Key Features\n- bd prime context reload every iteration\n- Molecule-based workflow execution\n- Circuit breaker (block after 2 failures)\n- Wisp support for discovered work","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-11T14:02:12.750641-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:53:57.541815-06:00","closed_at":"2026-01-11T14:53:57.541815-06:00","close_reason":"v0.1.0 implementation complete: all P1-P3 tasks done, E2E dogfood test passed"}
{"id":"ralph-beads-r49.1","title":"Validate bd prime integration in startup ritual","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T14:03:22.684418-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:40:35.904996-06:00","closed_at":"2026-01-11T14:40:35.904996-06:00","close_reason":"bd prime integration validated","dependencies":[{"issue_id":"ralph-beads-r49.1","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:22.685886-06:00","created_by":"briansquires"}],"comments":[{"id":1,"issue_id":"ralph-beads-r49.1","author":"briansquires","text":"Validated bd prime integration. Key findings:\n- bd prime doesn't support --mol flag (provides global context)\n- Molecule scope achieved via bd ready --mol instead\n- Fixed all docs referencing incorrect bd prime --mol syntax\n- Added fallback guidance if bd prime fails\n- Documented .beads/PRIME.md customization option\n\nFiles updated: commands/ralph-beads.md, specs/loop-architecture.md, docs/architecture.md, CLAUDE.md","created_at":"2026-01-11T20:17:29Z"}]}
{"id":"ralph-beads-r49.2","title":"Test molecule workflow (pour, progress, wisp, squash)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T14:03:22.751765-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:40:35.95391-06:00","closed_at":"2026-01-11T14:40:35.95391-06:00","close_reason":"Molecule workflow tested","dependencies":[{"issue_id":"ralph-beads-r49.2","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:22.752431-06:00","created_by":"briansquires"}],"comments":[{"id":2,"issue_id":"ralph-beads-r49.2","author":"briansquires","text":"Validated molecule workflow. Key findings:\n- All mol commands (pour, progress, current, ready --mol) require --no-daemon flag\n- bd mol wisp takes proto-id, not ad-hoc task strings\n- For ad-hoc ephemeral tasks use: bd create --ephemeral --title='...'\n- Updated all docs to reflect actual beads CLI behavior\n\nTested: pour, progress, current, ready --mol, wisp, burn\nFiles updated: commands/ralph-beads.md, CLAUDE.md, specs/loop-architecture.md","created_at":"2026-01-11T20:25:41Z"}]}
{"id":"ralph-beads-r49.3","title":"Implement circuit breaker pattern (2 failures max)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T14:03:22.820824-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:40:36.004656-06:00","closed_at":"2026-01-11T14:40:36.004656-06:00","close_reason":"Circuit breaker implemented","dependencies":[{"issue_id":"ralph-beads-r49.3","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:22.821445-06:00","created_by":"briansquires"}],"comments":[{"id":3,"issue_id":"ralph-beads-r49.3","author":"briansquires","text":"Implemented circuit breaker pattern. Key findings:\n- Use bd update \u003cid\u003e --status=blocked (not just label) to hide from bd ready\n- Use bd comments add (not deprecated bd comment)\n- Tested: status=blocked correctly removes task from bd ready results\n- Updated all docs with correct syntax\n\nFiles updated: commands/ralph-beads.md, CLAUDE.md, specs/loop-architecture.md","created_at":"2026-01-11T20:29:56Z"}]}
{"id":"ralph-beads-r49.4","title":"Test planning mode with proto creation","description":"## Goal\nValidate planning mode creates proper proto structure.\n\n## Test Steps\n1. Run `/ralph-beads --mode plan --dry-run \"Test feature\"`\n2. Verify epic creation with `template` label\n3. Verify task creation under epic\n4. Verify dependencies form valid DAG\n5. Test completion promise `\u003cpromise\u003ePLAN_READY\u003c/promise\u003e`\n\n## Files to Validate\n- commands/ralph-beads.md (PLANNING MODE PROMPT section)\n- specs/core-workflow.md (REQ-001)\n\n## Parallel Safety\n- Edits to ralph-beads.md: coordinate with r49.5 if fixes needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:03:22.884085-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:48:56.511738-06:00","closed_at":"2026-01-11T14:48:56.511738-06:00","close_reason":"Validated planning mode against REQ-001. Fixed bd q usage - it does not support --parent flag, changed to two-step approach: bd q + bd update --parent. All 9 acceptance criteria from specs/core-workflow.md REQ-001 are satisfied: epic creation with ralph/template labels, mode=planning state, Explore subagent usage, child task creation, dependency establishment, iteration logging, PLAN_READY promise output, ready_for_build state transition, and 5-iteration default.","labels":["parallel-safe"],"dependencies":[{"issue_id":"ralph-beads-r49.4","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:22.884708-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-r49.4","depends_on_id":"ralph-beads-r49.1","type":"blocks","created_at":"2026-01-11T14:03:31.350356-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-r49.5","title":"Test building mode with molecule execution","description":"## Goal\nValidate building mode executes molecule workflow correctly.\n\n## Test Steps\n1. Create a test proto manually\n2. Run `/ralph-beads --mode build --epic \u003cproto-id\u003e --dry-run`\n3. Verify molecule creation via `bd mol pour`\n4. Verify `bd ready --mol` scoping works\n5. Verify circuit breaker triggers after 2 failures\n6. Test completion promise `\u003cpromise\u003eDONE\u003c/promise\u003e`\n\n## Files to Validate\n- commands/ralph-beads.md (BUILDING MODE PROMPT section)\n- specs/core-workflow.md (REQ-002)\n- specs/loop-architecture.md (REQ-032 circuit breaker)\n\n## Parallel Safety\n- Edits to ralph-beads.md: coordinate with r49.4 if fixes needed","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:03:22.949503-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:50:58.984625-06:00","closed_at":"2026-01-11T14:50:58.984625-06:00","close_reason":"Tested building mode against REQ-002 and REQ-032. Fixed missing mode=building state setting in both --mol and --epic resume paths. All acceptance criteria now verified: task selection via bd ready --mol, in_progress status, test backpressure, git commits with references, task closure, iteration logging with test results, DONE promise output, epic closure at 100%, circuit breaker pattern (2 failures -\u003e blocked status).","labels":["parallel-safe"],"dependencies":[{"issue_id":"ralph-beads-r49.5","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:22.950124-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-r49.5","depends_on_id":"ralph-beads-r49.2","type":"blocks","created_at":"2026-01-11T14:03:31.397854-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-r49.5","depends_on_id":"ralph-beads-r49.3","type":"blocks","created_at":"2026-01-11T14:03:31.446511-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-r49.6","title":"Validate /ralph-status command","description":"## Goal\nValidate /ralph-status command shows epic/molecule progress.\n\n## Test Steps\n1. Read commands/ralph-status.md\n2. Verify YAML frontmatter (description required)\n3. Test with existing epic: `/ralph-status ralph-beads-r49`\n4. Verify output includes: title, status, mode, progress %, current task, blocked count\n5. Test --verbose flag shows iteration history\n\n## Files to Validate\n- commands/ralph-status.md\n- specs/commands.md (REQ-021)\n\n## Parallel Safety\n- Independent file, safe to edit without coordination","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:03:23.014301-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:46:58.091674-06:00","closed_at":"2026-01-11T14:46:58.091674-06:00","close_reason":"Validated and updated /ralph-status command to meet REQ-021. Added: (1) --verbose flag for iteration history, (2) auto-find most recent ralph epic when no ID provided, (3) explicit mode display, (4) blocked tasks count, (5) progress percentage N/M format, (6) current task display. Updated argument-hint to show optional args. Example output now matches spec exactly.","labels":["parallel-safe"],"dependencies":[{"issue_id":"ralph-beads-r49.6","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:23.014948-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-r49.7","title":"Validate /ralph-cancel command","description":"## Goal\nValidate /ralph-cancel command gracefully stops workflows.\n\n## Test Steps\n1. Read commands/ralph-cancel.md\n2. Verify YAML frontmatter (description required)\n3. Verify it sets epic mode to `paused`\n4. Verify cancellation logged to comments\n5. Verify in-progress task remains in_progress (not lost)\n\n## Files to Validate\n- commands/ralph-cancel.md\n- specs/commands.md (REQ-022)\n\n## Parallel Safety\n- Independent file, safe to edit without coordination","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:03:23.078578-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:46:57.774103-06:00","closed_at":"2026-01-11T14:46:57.774103-06:00","close_reason":"Validated /ralph-cancel command against REQ-022. Added Step 4 to explicitly report in-progress task and confirm it is preserved (not modified). All 5 acceptance criteria and 3 test requirements now satisfied.","labels":["parallel-safe"],"dependencies":[{"issue_id":"ralph-beads-r49.7","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:23.079224-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-r49.8","title":"End-to-end test: plan then build a simple feature","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T14:03:23.143283-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:53:50.908164-06:00","closed_at":"2026-01-11T14:53:50.908164-06:00","close_reason":"E2E dogfood test passed: created and executed proto ralph-beads-3kj with 3 tasks","labels":["sequential"],"dependencies":[{"issue_id":"ralph-beads-r49.8","depends_on_id":"ralph-beads-r49","type":"parent-child","created_at":"2026-01-11T14:03:23.144009-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-r49.8","depends_on_id":"ralph-beads-r49.4","type":"blocks","created_at":"2026-01-11T14:03:31.495253-06:00","created_by":"briansquires"},{"issue_id":"ralph-beads-r49.8","depends_on_id":"ralph-beads-r49.5","type":"blocks","created_at":"2026-01-11T14:03:31.549582-06:00","created_by":"briansquires"}]}
{"id":"ralph-beads-rjc","title":"Update README with OpenCode documentation","description":"Update documentation with OpenCode plugin installation and usage instructions.","acceptance_criteria":"- [ ] README.md updated with OpenCode section\n- [ ] Installation instructions for OpenCode\n- [ ] Usage examples specific to OpenCode\n- [ ] Differences from Claude Code version documented\n- [ ] Troubleshooting section for OpenCode","status":"open","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:05:38.69268-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:05:38.69268-06:00","labels":["docs","phase-5"],"dependencies":[{"issue_id":"ralph-beads-rjc","depends_on_id":"ralph-beads-253","type":"blocks","created_at":"2026-01-12T11:20:55.112056-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-tei","title":"Implement event hook for session and file tracking","description":"Implement the event hook to track session lifecycle events, file modifications, and git commits.","acceptance_criteria":"- [ ] Event hook registered in plugin\n- [ ] Handles session.created: Initialize session state\n- [ ] Handles session.deleted: Clean up session state from Map\n- [ ] Handles tool.execute.after for edit/write: Track filesModified\n- [ ] Handles bash tool for git commit detection: Set commitMade=true\n- [ ] Session ID correctly extracted from event properties","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:03:27.240644-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:55:35.130737-06:00","closed_at":"2026-01-12T11:55:35.130737-06:00","close_reason":"Implemented event and tool.execute.after hooks in ralph-beads.ts for session lifecycle, file modification tracking, and commit detection.","labels":["hooks","phase-2"],"dependencies":[{"issue_id":"ralph-beads-tei","depends_on_id":"ralph-beads-gbg","type":"blocks","created_at":"2026-01-12T11:20:39.221049-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-v2z","title":"Implement ralph-beads main tool","description":"Implement the main ralph-beads tool that handles planning and building mode setup.","acceptance_criteria":"- [ ] Tool registered via tool() helper\n- [ ] Args: mode, epic, mol, resume, priority, complexity, validate, skipValidate, worktree, pr, maxIterations, dryRun, task\n- [ ] Parses args correctly with optional/required handling\n- [ ] Runs bd info check on start\n- [ ] Creates epic or resumes existing based on args\n- [ ] Auto-detects test framework\n- [ ] Auto-detects complexity from task keywords\n- [ ] Sets session state (epicId, molId, mode, etc.)\n- [ ] Returns appropriate prompt for mode\n- [ ] Dry-run shows config without starting loop","status":"closed","priority":0,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:12.529923-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:59:29.462865-06:00","closed_at":"2026-01-12T11:59:29.462865-06:00","close_reason":"Implemented ralph-beads tool in ralph-beads.ts with planning/building mode logic, complexity/framework detection, and state initialization.","labels":["critical","phase-3","tools"],"dependencies":[{"issue_id":"ralph-beads-v2z","depends_on_id":"ralph-beads-zqa","type":"blocks","created_at":"2026-01-12T11:20:43.676472-06:00","created_by":"TheFermiSea"},{"issue_id":"ralph-beads-v2z","depends_on_id":"ralph-beads-dqg","type":"blocks","created_at":"2026-01-12T11:21:02.441885-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-voz","title":"Implement blind validation workflow","description":"Implement complexity-based blind validation for STANDARD and CRITICAL tasks.","acceptance_criteria":"- [ ] Complexity detection from task keywords\n- [ ] TRIVIAL/SIMPLE: skip validation by default\n- [ ] STANDARD: auto-enable validation\n- [ ] CRITICAL: require validation (cannot skip)\n- [ ] Validation spawns blind review (via prompt guidance)\n- [ ] APPROVED: close task\n- [ ] REJECTED: log feedback, apply circuit breaker","status":"closed","priority":2,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:58.795934-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:05:27.177402-06:00","closed_at":"2026-01-12T12:05:27.177402-06:00","close_reason":"Implemented via validation phase instructions in building prompt template.","labels":["phase-4","workflow"],"dependencies":[{"issue_id":"ralph-beads-voz","depends_on_id":"ralph-beads-4jd","type":"blocks","created_at":"2026-01-12T11:20:47.890463-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-zqa","title":"Implement beads CLI client wrapper","acceptance_criteria":"- [ ] `beads-client.ts` module created\n- [ ] Uses Bun's $ shell API for all commands\n- [ ] Functions: bdInfo(), bdCreate(), bdShow(), bdList(), bdUpdate(), bdClose(), bdReady(), bdPrime(), bdComments(), bdDepAdd(), bdSetState(), bdGraph()\n- [ ] Molecule functions: bdMolPour(), bdMolShow(), bdMolProgress(), bdMolCurrent(), bdMolSquash()\n- [ ] All functions use --json flag and parse output\n- [ ] Error handling for command failures\n- [ ] Handles --no-daemon flag for molecule operations","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:02:45.450665-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T11:54:19.421729-06:00","closed_at":"2026-01-12T11:54:19.421729-06:00","close_reason":"Implemented beads-client.ts with all required CLI wrappers using Bun's shell API.","labels":["foundation","phase-1"],"dependencies":[{"issue_id":"ralph-beads-zqa","depends_on_id":"ralph-beads-2z4","type":"blocks","created_at":"2026-01-12T11:20:35.237121-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-zsk","title":"Implement circuit breaker pattern","description":"Implement the circuit breaker pattern that blocks tasks after 2 consecutive failures.","acceptance_criteria":"- [ ] Failure tracking via structured comments: [ATTEMPT:N]\n- [ ] Stop hook checks failure count\n- [ ] After 2 failures: task marked blocked (--status=blocked)\n- [ ] bd ready skips blocked tasks\n- [ ] Blocked task guidance in prompts\n- [ ] Unblocking guidance included","status":"closed","priority":1,"issue_type":"task","owner":"squires.b@gmail.com","created_at":"2026-01-12T11:04:54.417657-06:00","created_by":"TheFermiSea","updated_at":"2026-01-12T12:05:18.491546-06:00","closed_at":"2026-01-12T12:05:18.491546-06:00","close_reason":"Implemented via prompt instructions which guide the agent to track attempts and mark tasks blocked.","labels":["phase-4","workflow"],"dependencies":[{"issue_id":"ralph-beads-zsk","depends_on_id":"ralph-beads-lyd","type":"blocks","created_at":"2026-01-12T11:20:47.704735-06:00","created_by":"TheFermiSea"}]}
{"id":"ralph-beads-zxv","title":"Test task","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T14:48:08.014461-06:00","created_by":"briansquires","updated_at":"2026-01-11T14:48:12.197006-06:00","closed_at":"2026-01-11T14:48:12.197006-06:00","close_reason":"test task - deleting"}
